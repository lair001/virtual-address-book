<form class="global-form" name="form">

	<div ng-if="!controller.locals.onlyCurrentPasswordField">

		<div class="form-group">
			<label for="username">Username</label><br>
			<input type="text" ng-model="controller.user.username" class="form-control global-form-input" name="username"
				minlength="2"
				maxlength="50"
				absence-of-forbidden-characters
				required>
		</div>

		<div class="form-group" ng-messages="form.username.$error" ng-if="controller.locals.usernameValidation && form.username.$touched && form.username.$invalid">
			<label>
				<div ng-message="required">
					Username is required!
				</div>
				<div ng-message="minlength">
					Username must be at least 2 characters!
				</div>
				<div ng-message="maxlength">
					Username can be no longer than 50 characters!
				</div>
				<div ng-message="absenceOfForbiddenCharacters">
					Username must not have forbidden characters!
				</div>
			</label>
		</div>

		<div ng-if="!controller.locals.onlyUsernameAndPassword">

			<div class="form-group">
				<label for="email">Email</label><br>
				<input type="email" ng-model="controller.user.email" class="form-control global-form-input" name="email"
					minlength="5"
					maxlength="50"
					absence-of-whitespace
					absence-of-forbidden-characters
					email-regex
					required>
			</div>

			<div class="form-group" ng-messages="form.email.$error" ng-if="form.email.$touched && form.email.$invalid">
				<label>
					<div ng-message="required">
						Email is required!
					</div>
					<div ng-message="minlength">
						Email must be at least 5 characters!
					</div>
					<div ng-message="maxlength">
						Email can be no longer than 50 characters!
					</div>
					<div ng-message="absenceOfWhitespace">
						Email must not have Whitespace!
					</div>
					<div ng-message="absenceOfForbiddenCharacters">
						Email must not have forbidden characters!
					</div>
					<div ng-message="emailRegex">
						Email must have proper format!
					</div>
				</label>
			</div>

		</div>

	</div>

	<div class="form-group" ng-if="!controller.locals.onlyUsernameAndPassword && (controller.locals.currentPasswordField || controller.locals.onlyCurrentPasswordField)">
		<label for="current_password">Current Password</label>
		<input type="password" ng-model="accountsShow.user.current_password" class="form-control global-form-input" name="current_password">
	</div>

	<div ng-if="!controller.locals.onlyCurrentPasswordField">

		<div class="form-group">
			<label for="password">Password</label><br>
			<input type="password" ng-model="controller.user.password" class="form-control global-form-input" name="password"
				minlength="6"
				maxlength="72"
				absence-of-forbidden-characters
				absence-of-whitespace
				required>
		</div>

		<div class="form-group" ng-messages="form.password.$error" ng-if="controller.locals.passwordValidation && form.password.$touched && form.password.$invalid">
			<label>
				<div ng-message="required">
					Password is required!
				</div>
				<div ng-message="minlength">
					Password must be at least 6 characters!
				</div>
				<div ng-message="maxlength">
					Password can be no longer than 72 characters!
				</div>
				<div ng-message="absenceOfWhitespace">
					Password must not have Whitespace!
				</div>
				<div ng-message="absenceOfForbiddenCharacters">
					Password must not have forbidden characters!
				</div>
			</label>
		</div>

		<div ng-if="!controller.locals.onlyUsernameAndPassword">

			<div class="form-group">
				<label for="password_confirmation">Password Confirmation</label><br>
				<input type="password" ng-model="controller.user.password_confirmation" class="form-control global-form-input" name="password_confirmation"
					equal-to="form.password"
					minlength="6"
					maxlength="72"
					absence-of-forbidden-characters
					absence-of-whitespace
					required>
			</div>

			<div class="form-group" ng-messages="form.password_confirmation.$error" ng-if="form.password_confirmation.$touched && form.password_confirmation.$invalid">
				<label>
					<div ng-message="required">
						Password Confirmation is required!
					</div>
					<div ng-message="minlength">
						Password Confirmation must be at least 6 characters!
					</div>
					<div ng-message="maxlength">
						Password Confirmation can be no longer than 72 characters!
					</div>
					<div ng-message="absenceOfWhitespace">
						Password Confirmation must not have Whitespace!
					</div>
					<div ng-message="absenceOfForbiddenCharacters">
						Password Confirmation must not have forbidden characters!
					</div>
					<div ng-message="equalTo">
						Password Confirmation must match Password!
					</div>
				</label>
			</div>

		</div>

	</div>

	<button type="submit" ng-click="controller.submit($event);" class="btn btn-default global-form-btn">{{ controller.locals.submitButtonLabel }}</button>

</form>